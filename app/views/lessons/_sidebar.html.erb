<div class="w-full">
    <% @course.lessons.order(:position).each do |lesson| %>
        <% if lesson.paid %>
            <div class="border p-6 hover:bg-gray-200">
                <div>
                    <%= icon('fa-solid', 'lock', class: "mr-2 text-gray-600") %><span class="font-light">lesson.title</span>
                </div>
            </div>
        <% else %>
            <%= link_to course_lesson_path(@course, lesson) do %>
                <div class="border p-6 hover:bg-gray-200 <%= (@lesson.id == lesson.id) ? 'bg-amaranth-100' : '' %>">
                    <% if @completed_lesson_ids&.include?(lesson.id) %>
                        <%= icon('fa-solid', 'circle-check', class: "text-green-500") %>
                    <% else %>
                        <%= icon('fa-regular', 'circle', class: "text-green-500") %>
                    <% end %>
                    <span class="pl-4 font-light"><%= lesson.title %></span>
                </div>
            <% end %>
        <% end %>
    <% end %>
</div>